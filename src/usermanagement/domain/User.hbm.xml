<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="usermanagement.domain">

    <class name="User" table="user_detail">
        <id column="user_id" name="userId" type="java.lang.Long">
        	<generator class="increment"/>
        </id>
        <property column="user_name" name="userName" type="java.lang.String" />
        <property column="enc_password" name="encPassword" type="java.lang.String" />
        <property column="first_name" name="firstName" type="java.lang.String" />
        <property column="last_name" name="lastName" type="java.lang.String" />
        <property column="contact_num" name="phone" type="java.lang.String" />
        <property column="role_id" name="roleId" type="java.lang.Long" />
        <property column="department_id" name="departmentId" type="java.lang.Long" />
        <property column="branch_id" name="branchId" type="java.lang.Long" />
        <property column="password" name="password" type="java.lang.String" />
        <property column="birth_date" name="birthday" type="java.util.Date" />
        <property column="email" name="email" type="java.lang.String" />
        <property column="created_by" name="createdBy" type="java.lang.String" />
        <property column="created_datetime" name="createdDatetime" type="java.sql.Timestamp" />
        <property column="modified_by" name="modifiedBy" type="java.lang.String" />
        <property column="modified_datetime" name="modifiedDatetime" type="java.sql.Timestamp" />
    </class>

    <sql-query name="getAuthenticateUser">
        <return class="User" alias="ud"/>
            SELECT
                ud.*
              FROM transport_hub.user_detail ud
              WHERE (ud.user_name = :userName)
              AND (ud.password = :password)
    </sql-query>
</hibernate-mapping>